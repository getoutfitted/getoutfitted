<template name='defaultStatus'>
  <div class='itemDetails container-fluid'>
    <div class='table-responsive'>
      <table class='table table-hover'>
        <thead>
          <tr>
            <th>Action</th>
            <th>Title</th>
            <th>Color</th>
            <th>Size</th>
            <th>Status</th>
            <th>QTY</th>
          </tr>
        </thead>
        <tbody >
          {{#each bundle in bundles}}
            <tr>
              <td></td>
              <td cols="4">
                <strong>{{bundle.title}} {{bundleIndex bundle}}</strong>
              </td>
            </tr>
            {{#each item in itemsByBundle bundle}}
              <tr>
                <td>
                  {{#unless isPicked item._id}}
                    <button
                      class="btn btn-lg btn-success item-action"
                      data-order-id="{{_id}}"
                      data-item-id="{{item._id}}"
                      data-item-status="{{fulfillmentStatus item}}">Pick Item</button>
                  {{/unless}}
                </td>
                <td>{{item.title}}</td>
                <td>{{item.variants.color}}</td>
                <td>{{item.variants.size}}</td>
                <td>{{fulfillmentStatus item}}</td>
                <td><strong>{{item.quantity}}</strong></td>
              </tr>
            {{/each}}
            <tr class="no-border">&nbsp;</tr>
          {{/each}}
          {{#each item in nonBundleItems}}
            <tr>
              <td><strong>{{item.quantity}}</strong></td>
              {{#with orderItem item}}
                <td>{{title}}</td>
                <td>{{variants.color}}</td>
                <td>{{variants.size}}</td>
              {{/with}}
              <td>{{item.workflow.status}}</td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    </div>
  </div>
</template>
